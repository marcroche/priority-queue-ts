{"version":3,"sources":["maps/priorityQueue.ts","maps/queueItem.ts","maps/queueType.ts"],"names":["PriorityQueue","items","Array","this","undefined","length","buildMinHeap","prototype","peek","pop","min","splice","minHeapify","push","item","heapIndex","heapDecreaseKey","dump","i","JSON","stringify","join","isEmpty","clear","leftChild","rightChild","parent","Math","floor","A","size","smallest","left","right","value","tmp","key","heapInded","exports","QueueItem","QueueType"],"mappings":"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","file":"index.js","sourcesContent":["import * as _ from 'lodash';\r\nimport { QueueItem } from './queueItem';\r\nimport * as queueType from './queueType';\r\n\r\nexport class PriorityQueue {\r\n    private items = Array<QueueItem>();\r\n    \r\n    constructor(items = new Array<QueueItem>()) {\r\n        if (items !== undefined && items.length > 0) {\r\n            this.items = items;\r\n            this.buildMinHeap(this.items, this.items.length - 1);\r\n        }\r\n    }\r\n\r\n    public peek() {\r\n        if (this.items.length < 1) {\r\n            return undefined;\r\n        }\r\n        return this.items[0];\r\n    }\r\n\r\n    public pop() {\r\n        if (this.items.length < 1) {\r\n            return undefined;\r\n        }\r\n\r\n        let min = this.items[0];\r\n        this.items[0] = this.items[this.items.length - 1];\r\n        this.items.splice(this.items.length - 1, 1);\r\n\r\n        this.minHeapify(this.items, 0, this.items.length - 1);\r\n\r\n        return min;\r\n    }\r\n\r\n    public push(item: QueueItem) {\r\n        this.items.push(item);\r\n        item.heapIndex = this.items.length - 1;\r\n        this.heapDecreaseKey(this.items, item.heapIndex, item);\r\n    }\r\n\r\n    public dump() {\r\n        let dump = [];\r\n        for (let i = 0; i < this.items.length; i++) {\r\n            dump.push(i + ': ' + JSON.stringify(this.items[i]));\r\n        }\r\n        return dump.join(', ');\r\n    }\r\n\r\n    public isEmpty() {\r\n        return this.items.length === 0;\r\n    }\r\n\r\n    public clear() {\r\n        this.items = [];\r\n    }\r\n    \r\n    private leftChild(i: number): number {\r\n        return 2 * i + 1;\r\n    }\r\n\r\n    private rightChild(i: number): number {\r\n        return 2 * i + 2;\r\n    }\r\n\r\n    private parent(i: number): number {\r\n        return Math.floor(i / 2); \r\n    }\r\n\r\n    private minHeapify(A: any, i: number, size: number): void {\r\n        let left = this.leftChild(i);\r\n        let right = this.rightChild(i);\r\n        let smallest;\r\n\r\n        if (left <= size && (<QueueItem>A[left]).value < (<QueueItem>A[i]).value) {\r\n            smallest = left; \r\n        } else {\r\n            smallest = i; \r\n        }\r\n\r\n        if (right <= size && (<QueueItem>A[right]).value < (<QueueItem>A[smallest]).value) {\r\n            smallest = right; \r\n        }\r\n\r\n        if (smallest !== i) {\r\n            let tmp = A[i];\r\n            A[i] = A[smallest];\r\n            A[smallest] = tmp;\r\n\r\n            this.minHeapify(A, smallest, size);\r\n        }\r\n    }\r\n\r\n    private buildMinHeap(A: any, size: number) {\r\n        for (let i = Math.floor(size / 2); i >= 0; i--) { \r\n            this.minHeapify(A, i, size); \r\n        }\r\n    }\r\n\r\n    private heapDecreaseKey(A: any, i: any, key: any) {\r\n        while (i > 0 && (<QueueItem>A[this.parent(i)]).value > (<QueueItem>A[i]).value) {\r\n            let tmp = A[i];\r\n            A[i] = A[this.parent(i)];\r\n            A[i].heapInded = i;\r\n            A[this.parent(i)] = tmp;\r\n            A[this.parent(i)].heapIndex = this.parent(i);\r\n            i = this.parent(i);\r\n        }\r\n    }\r\n}\r\n","export class QueueItem {\r\n    public value: number;\r\n    public item: any;\r\n    public heapIndex: number;\r\n\r\n    constructor(value: number, item: any) {\r\n        this.value = value;\r\n        this.item = item;\r\n        this.heapIndex = 0;\r\n    }\r\n}\r\n","export enum QueueType {\r\n    Min,\r\n    Max\r\n}\r\n"]}